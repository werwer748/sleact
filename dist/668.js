"use strict";(self.webpackChunkalecture=self.webpackChunkalecture||[]).push([[668],{3668:(e,a,l)=>{l.r(a),l.d(a,{default:()=>i});var t=l(7294),n=l(8678),r=l(5916),c=l(8648),s=l(9250),m=l(9655),u=l(8100),o=l(3564);const i=()=>{const{data:e,error:a,mutate:l}=(0,u.ZP)("/api/users",o.Z),[i,d]=(0,n.Z)(""),[p,E]=(0,n.Z)(""),[v,,k]=(0,n.Z)(""),[h,,g]=(0,n.Z)(""),[w,b]=(0,t.useState)(!1),[C,I]=(0,t.useState)(""),[_,Z]=(0,t.useState)(!1),f=(0,t.useCallback)((e=>{k(e.target.value),b(e.target.value!==h)}),[h]),j=(0,t.useCallback)((e=>{g(e.target.value),b(e.target.value!==v)}),[v]),y=(0,t.useCallback)((e=>{e.preventDefault(),!w&&p&&(console.log("서버로 회원가입하기"),I(""),Z(!1),c.Z.post("/api/users",{email:i,nickname:p,password:v}).then((e=>{console.log(e),Z(!0)})).catch((e=>{console.log(e.response),I(e.response.data)})).finally((()=>{})))}),[i,p,v,h,w]);return void 0===e?t.createElement("div",null,"로딩중...."):e?t.createElement(s.Fg,{to:"/workspace/sleact/channel/일반"}):t.createElement("div",{id:"container"},t.createElement(r.h4,null,"Sleact"),t.createElement(r.l0,{onSubmit:y},t.createElement(r.__,{id:"email-label"},t.createElement("span",null,"이메일 주소"),t.createElement("div",null,t.createElement(r.II,{type:"email",id:"email",name:"email",value:i,onChange:d}))),t.createElement(r.__,{id:"nickname-label"},t.createElement("span",null,"닉네임"),t.createElement("div",null,t.createElement(r.II,{type:"text",id:"nickname",name:"nickname",value:p,onChange:E}))),t.createElement(r.__,{id:"password-label"},t.createElement("span",null,"비밀번호"),t.createElement("div",null,t.createElement(r.II,{type:"password",id:"password",name:"password",value:v,onChange:f}))),t.createElement(r.__,{id:"password-check-label"},t.createElement("span",null,"비밀번호 확인"),t.createElement("div",null,t.createElement(r.II,{type:"password",id:"password-check",name:"password-check",value:h,onChange:j})),w&&t.createElement(r.jj,null,"비밀번호가 일치하지 않습니다."),!p&&t.createElement(r.jj,null,"닉네임을 입력해주세요."),C&&t.createElement(r.jj,null,C),_&&t.createElement(r.fB,null,"회원가입되었습니다! 로그인해주세요.")),t.createElement(r.zx,{type:"submit"},"회원가입")),t.createElement(r.Ji,null,"이미 회원이신가요? ",t.createElement(m.rU,{to:"/login"},"로그인 하러가기")))}}}]);